# Роль Ansible: rclone

Роль Ansible, которая устанавливает и настраивает [rclone](https://github.com/rclone/rclone).

## Зависимости

Нет

## Типы заданий

### [sync](https://rclone.org/commands/rclone_sync/)

Синхронизирует директории `src` и `dest`, делая их содержимое идентичным. Изменения вносятся только в `dest`.

### [rcat](https://rclone.org/commands/rclone_rcat/)

Архивирует содержимое директории `src` и загружает в `dest` без создания промежуточного локального файла архива. При каждом запуске архив в `dest` полностью перезаписывается. Подходит для ускорения загрузки множества мелких файлов, когда доступ к отдельным файлам и каталогам не требуется или не имеет смысла.

## Как добавить новое задание

1. На сервере с помощью `rclone config` создать remote
1. На сервере скопировать параметры remote из `.config/rclone/rclone.conf` в `rclone_configs.vault.yml`
1. Настроить задание в переменной `rclone_jobs`
1. Добавить проверку на healthchecks.io
